# 浏览器缓存

浏览器缓存保存着用户通过**HTTP**请求得到的所有资源，避免下一次访问重复向服务器发出请求。

**分类**

- 强缓存    
  不会向浏览器发送请求，直接从缓存中读取资源    
  优先判断本地浏览器缓存中``header``中标识``Expires``和``Cache-control``是否满足规则    
  ``Cache-control``比``Expires``优先级高
  
- 协商缓存    
  协商缓存是强缓存失效之后，浏览器携带缓存标识向服务器发起请求，由服务器根据缓存标识来决定是否使用缓存
  - 如果协商缓存生效，返回304和Not Modified
  - 协商缓存失效，返回200和请求结果
  
**强缓存**

**协商缓存**
- 把资源标识``If-Modify-Since``和``Etag``发送到服务器，请求资源是否更新。
- 如果未更新，返回状态码``304``,并显示``Not Modified``,告诉浏览器使用本地缓存。
- 如果资源更新，则请求新的资源，并存入缓存。

**缓存存放位置**
- Disk Cache
- Memory Cache

**浏览器读取缓存流程**
- 浏览器向浏览器缓存发送http请求，如果请求头header中含有强缓存标识，存在该请求的缓存结果，且未失效，则使用缓存
- 如果强缓存失效， 则向缓存
